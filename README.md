# Instant-Message-V1
一个简单的即时聊天服务器，java实现

最新更新：

功能指令格式如下：  
1. 注册: /register name Password Password  
2. 登录: /login name Password  
3. 登出: /logout  
4. 退出客户端: /quit    
5. 添加指定好友: /add name    
6. 删除指定好友: /delete name  
7. 与指定好友聊天: /chat name  
8. 停止向好友发送消息: /stopchat name  
9. 帮助: /help  
10. 刷行朋友和在线朋友列表: /flush  
11. 广播功能、退出广播功能: /super Password ;/quitsuper  
12. 修改密码: /ch_pswd name oldPassword newPassword  


使用技术：java socket编程 连接mysql数据库。－－要记得把数据库建表上传。

写这个程序纯属个人兴趣，写着玩吧，顺便复习以下java编程和socket编程以及sql语句，把我的mbp配置好mysql环境，也许应该顺便写一个网页注册主页。

目前实现了一些常用的功能：

注册：

  指令格式：/register 用户名 密码 密码
  
  注册以后默认还不是登陆状态，还需要重新登陆
  
登陆：

  指令格式：/login 用户名 密码
  
  登陆以后自动显示好友列表和在线好友列表
  
添加好友：

  指令格式：/add 好友用户名 
  
  添加是双向的，即双方都会出现在对方的好友列表中，同时会刷新好友列表，但目前还没有做权限控制。
  
联系好友：

  指令格式：/connect 好友用户名
  
  目前不支持离线消息，仅仅能与在线的、并是自己的好友进行聊天，消息采用服务器转发机制。
  
登出：

  指令格式：/logout
  
退出连接：

  指令格式：/quit
  
  将会中断telnet连接，
  
刷新好友列表：

  指令：/flush


目前还没有，但打算实现的功能有：

做重复登陆检查：这个不做了，我起初像采用给予提示要求用户重复输入登陆指令的方法实现，但有几个困难，一个是判断重复登陆操作，二是判断重复登陆的是同一个人。貌似需要程序和数据库双向的复杂设计，就放弃了。也许应该尝试输入制定字符确认的方式（y or n）。

好友添加权限需要加上

好友添加通知需要派发双方

聊天好友切换

/connect 指令的失败情况还需要细分：不是好友，是好友不在线，刷新列表。

广播权限

好友终止连接，对方如果在聊天需要有提示。正在聊天的对方需要将isChatting状态改变，否则会出错！这个很严重！

函数析构，意外终止时应对

help没有写
